<!--
    MUD Game Engine
    Copyright (C) 2025 JPH Software (http://jphsoftware.com)
    
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    
    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
    
    ** IMPORTANT: This copyright notice and the link to jphsoftware.com must be preserved
    ** in all copies or substantial portions of this software.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Cache control for development/deployment -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <title>Multi-User Dungeon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    
    <!-- vis.js for network graph visualization -->
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        #map-network {
            width: 100%;
            height: 600px;
            border: 1px solid #00ff41;
        }
    </style>
</head>
<body class="p-2 sm:p-4 md:p-8 flex flex-col items-center justify-center min-h-screen">

    <!-- FILE: game.html (Main Game View) -->
    <div id="app-container" class="w-full max-w-4xl h-[85vh] border-2 border-[#00ff41] bg-black bg-opacity-75 rounded-lg p-2 sm:p-4 flex-col glow mb-2 sm:mb-4 hidden" role="main">
        <div id="header" class="mb-1 sm:mb-2">
            <h1 class="text-2xl sm:text-3xl font-bold text-center text-shadow">M.U.D. - The Digital Realm</h1>
            <div id="user-info" class="text-center text-xs sm:text-sm" role="status" aria-live="polite">Loading...</div>
            <div class="text-center mt-1">
                <a href="docs/index.html" target="_blank" class="text-[#00ff41] text-sm hover:text-white transition-colors underline">üìñ Help & Documentation</a>
            </div>
        </div>

        <div id="terminal-output" class="flex-grow overflow-y-auto border border-[#00ff41] p-2 sm:p-3 mb-2 sm:mb-3 text-base sm:text-lg leading-relaxed">
            <!-- Game output will appear here -->
        </div>

        <form class="flex items-center border-t-2 border-[#00ff41] pt-2" onsubmit="return false;">
            <label for="command-input" class="text-lg sm:text-xl mr-2" aria-hidden="true">&gt;</label>
            <input type="text" id="command-input" class="text-base sm:text-xl" placeholder="Type a command..." autocomplete="off" aria-label="Type game commands here">
        </form>
    </div>
    
    <div class="w-full max-w-4xl flex gap-2 justify-center px-2" role="navigation">
        <button id="admin-toggle-btn" class="hidden bg-[#00ff41] text-black px-3 sm:px-4 py-2 rounded text-sm sm:text-base" aria-label="Toggle admin panel">Admin Panel</button>
        <button id="logout-btn" class="hidden bg-red-500 text-white px-3 sm:px-4 py-2 rounded text-sm sm:text-base" aria-label="Logout from game">Logout</button>
    </div>
    <!-- END OF FILE: game.html -->


    <!-- FILE: admin.html (Admin Panel View) -->
    <div id="admin-panel" class="hidden w-full max-w-4xl h-[85vh] border-2 border-yellow-400 bg-black bg-opacity-80 rounded-lg p-2 sm:p-4 flex-col gap-2">
        <div class="flex justify-start md:justify-center overflow-x-auto flex-nowrap md:flex-wrap gap-1 sm:gap-2 md:gap-4 border-b border-yellow-400 mb-2 sm:mb-4 pb-2">
            <button id="setup-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üöÄ Setup</button>
            <button id="room-tab-btn" class="admin-tab active px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">Rooms</button>
            <button id="item-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">Items</button>
            <button id="npc-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">NPCs</button>
            <button id="monster-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">Monsters</button>
            <button id="player-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">Players</button>
            <button id="spell-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">‚ú® Spells</button>
            <button id="class-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">‚öîÔ∏è Classes</button>
            <button id="guild-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üè∞ Guilds</button>
            <button id="quest-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üìú Quests</button>
            <button id="online-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üë• Online</button>
            <button id="levels-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">‚¨ÜÔ∏è Levels</button>
            <button id="actions-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üé≠ Actions</button>
            <button id="map-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üó∫Ô∏è Map</button>
            <button id="settings-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">‚öôÔ∏è Settings</button>
            <button id="export-tab-btn" class="admin-tab px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base md:text-lg whitespace-nowrap">üíæ Export</button>
        </div>

        <div id="admin-content" class="overflow-y-auto flex-grow">
            <!-- Setup Panel -->
            <div id="setup-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üöÄ World Setup</h2>
                <div class="text-center text-gray-300 mb-6">
                    <p class="mb-2">Create default game content to get started quickly.</p>
                    <p class="text-sm text-gray-400">Click buttons below to populate your game world.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div class="border border-purple-500 rounded p-4 bg-black bg-opacity-50">
                        <h3 class="text-lg text-purple-400 mb-2">‚öîÔ∏è Character Classes</h3>
                        <p class="text-sm text-gray-400 mb-3">6 classes: Warrior, Priest, Wizard, Rogue, Paladin, Ranger</p>
                        <button id="setup-classes-btn" class="bg-purple-500 text-white px-4 py-2 rounded w-full">Create Classes</button>
                    </div>

                    <div class="border border-blue-500 rounded p-4 bg-black bg-opacity-50">
                        <h3 class="text-lg text-blue-400 mb-2">üèõÔ∏è Starter Rooms</h3>
                        <p class="text-sm text-gray-400 mb-3">5 rooms: Town Square, Forest, Shop, Tavern, Guild</p>
                        <button id="setup-rooms-btn" class="bg-blue-500 text-white px-4 py-2 rounded w-full">Create Rooms</button>
                    </div>

                    <div class="border border-green-500 rounded p-4 bg-black bg-opacity-50">
                        <h3 class="text-lg text-green-400 mb-2">üì¶ Starter Items</h3>
                        <p class="text-sm text-gray-400 mb-3">10 items: Weapons, armor, potions, tools</p>
                        <button id="setup-items-btn" class="bg-green-500 text-white px-4 py-2 rounded w-full">Create Items</button>
                    </div>

                    <div class="border border-yellow-500 rounded p-4 bg-black bg-opacity-50">
                        <h3 class="text-lg text-yellow-400 mb-2">üë§ NPCs</h3>
                        <p class="text-sm text-gray-400 mb-3">3 NPCs: Shopkeeper, Bartender, Guildmaster</p>
                        <button id="setup-npcs-btn" class="bg-yellow-500 text-white px-4 py-2 rounded w-full">Create NPCs</button>
                    </div>

                    <div class="border border-red-500 rounded p-4 bg-black bg-opacity-50">
                        <h3 class="text-lg text-red-400 mb-2">üëπ Monsters</h3>
                        <p class="text-sm text-gray-400 mb-3">3 monsters: Wolf, Goblin, Skeleton</p>
                        <button id="setup-monsters-btn" class="bg-red-500 text-white px-4 py-2 rounded w-full">Create Monsters</button>
                    </div>

                    <div class="border border-cyan-500 rounded p-4 bg-black bg-opacity-50">
                        <h3 class="text-lg text-cyan-400 mb-2">‚ú® Spells</h3>
                        <p class="text-sm text-gray-400 mb-3">17 spells: Healing, damage, buffs for all classes</p>
                        <button onclick="window.open('setup-default-spells.html', '_blank')" class="bg-cyan-500 text-white px-4 py-2 rounded w-full">Create Spells</button>
                    </div>

                    <div class="border border-orange-500 rounded p-4 bg-black bg-opacity-50 md:col-span-2">
                        <h3 class="text-lg text-orange-400 mb-2">üåü Complete Setup</h3>
                        <p class="text-sm text-gray-400 mb-3">Create ALL default content at once (recommended for new worlds)</p>
                        <button id="setup-all-btn" class="bg-orange-500 text-white px-6 py-3 rounded w-full text-lg font-bold">üöÄ CREATE EVERYTHING</button>
                    </div>
                </div>

                <div id="setup-status" class="text-center text-sm mt-4 p-4 border border-gray-600 rounded bg-black bg-opacity-70 min-h-[200px] max-h-[300px] overflow-y-auto">
                    <p class="text-gray-400">Setup log will appear here...</p>
                </div>
            </div>

            <!-- Room Editor -->
            <div id="room-editor-panel" class="hidden">
                 <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">Room Editor</h2>
                 <div class="text-center mb-2">
                    <button id="debug-data-btn" class="bg-blue-600 text-white px-3 py-1 rounded text-sm">üîç Debug: Show Loaded Data</button>
                    <button id="refresh-dropdowns-btn" class="bg-green-600 text-white px-3 py-1 rounded text-sm ml-2">üîÑ Refresh All Dropdowns</button>
                 </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="room-select" class="block mb-1">Select Room to Edit</label>
                        <select id="room-select" class="admin-input"></select>
                    </div>
                    <div>
                        <label for="room-id" class="block mb-1">Room ID (no spaces)</label>
                        <input type="text" id="room-id" class="admin-input">
                    </div>
                </div>
                <div>
                    <label for="room-name" class="block mb-1 mt-2">Room Name</label>
                    <input type="text" id="room-name" class="admin-input">
                </div>
                <div>
                    <label for="room-desc" class="block mb-1 mt-2">Description</label>
                    <textarea id="room-desc" class="admin-input" rows="2"></textarea>
                    <div class="flex gap-2 mt-1">
                         <input type="text" id="room-desc-keywords" class="admin-input flex-grow" placeholder="Keywords: e.g., dark, spooky, cavern">
                         <button id="generate-desc-btn" class="gemini-btn">Generate Description ‚ú®</button>
                    </div>
                </div>
                <div>
                    <label for="room-exits" class="block mb-1 mt-2">Exits (JSON: {"direction": "roomId"})</label>
                    <textarea id="room-exits" class="admin-input" rows="2"></textarea>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block mb-1 mt-2">Items in Room</label>
                        <div id="room-items-selector" class="admin-input h-20 overflow-y-auto"></div>
                    </div>
                    <div>
                        <label class="block mb-1 mt-2">NPCs in Room</label>
                        <div id="room-npcs-selector" class="admin-input h-20 overflow-y-auto"></div>
                    </div>
                </div>
                 <div>
                    <label class="block mb-1 mt-2">Monster Spawns</label>
                    <div id="room-monsters-selector" class="admin-input h-20 overflow-y-auto"></div>
                </div>
                <div>
                    <label for="room-details" class="block mb-1 mt-2">Details (JSON: {"target": "desc"})</label>
                    <textarea id="room-details" class="admin-input" rows="1"></textarea>
                </div>
                <div class="flex justify-between mt-4">
                    <div>
                        <button id="save-room-btn" class="bg-yellow-400 text-black px-4 py-2 rounded">Save Changes</button>
                        <button id="new-room-btn" class="bg-cyan-400 text-black px-4 py-2 rounded">New Room</button>
                    </div>
                    <button id="delete-room-btn" class="bg-red-600 text-white px-4 py-2 rounded">Delete Room</button>
                </div>
                <div id="admin-room-status" class="text-center mt-2 text-sm"></div>

                <div class="border border-purple-400 p-2 rounded mt-4">
                    <h3 class="text-xl text-purple-400 text-center">‚ú® AI Dungeon Master ‚ú®</h3>
                    <p class="text-sm text-center text-gray-400 mb-2">Describe a new room and the AI will build it for you.</p>
                    <div>
                        <label for="ai-room-prompt" class="block mb-1">Room Prompt</label>
                        <textarea id="ai-room-prompt" class="admin-input" rows="2" placeholder="e.g., A forgotten library connected to the dark cave, with a mysterious pedestal in the middle."></textarea>
                    </div>
                    <div class="text-center mt-2">
                        <button id="generate-room-btn" class="gemini-btn">Generate New Room</button>
                    </div>
                </div>
            </div>

            <!-- Item Editor -->
            <div id="item-editor-panel" class="hidden">
                 <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">Item Editor</h2>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="item-select" class="block mb-1">Select Item to Edit</label>
                        <select id="item-select" class="admin-input"></select>
                    </div>
                    <div>
                        <label for="item-id" class="block mb-1">Item ID (no spaces)</label>
                        <input type="text" id="item-id" class="admin-input">
                    </div>
                </div>
                 <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="item-name" class="block mb-1 mt-2">Item Name (e.g., a rusty key)</label>
                        <input type="text" id="item-name" class="admin-input">
                    </div>
                    <div>
                        <label for="item-cost" class="block mb-1 mt-2">Cost (in gold)</label>
                        <input type="number" id="item-cost" class="admin-input" value="0">
                    </div>
                </div>
                <div class="mt-2">
                    <label for="item-description" class="block mb-1">Description (shown when examined)</label>
                    <textarea id="item-description" class="admin-input" rows="2" placeholder="A detailed description of the item..."></textarea>
                    <p class="text-xs text-gray-400 mt-1">This is shown when players examine the item</p>
                </div>
                <div class="mt-2">
                    <label for="item-aliases" class="block mb-1">Aliases (comma-separated, e.g., ring, band, jewelry)</label>
                    <input type="text" id="item-aliases" class="admin-input" placeholder="ring, band, jewelry">
                    <p class="text-xs text-gray-400 mt-1">Players can use these alternative names to interact with the item</p>
                </div>
                <div class="mt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="item-movable" class="mr-2"> Is Movable? (Can be picked up)
                    </label>
                </div>
                <div class="mt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="item-consumable" class="mr-2"> Is Consumable? (Can be used/eaten/drunk)
                    </label>
                </div>
                <div class="mt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="item-is-weapon" class="mr-2"> Is Weapon? (Adds damage bonus in combat)
                    </label>
                </div>
                <div class="mt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="item-newsworthy" class="mr-2"> Newsworthy (Appears in news feed when found)
                    </label>
                </div>
                <div id="item-weapon-fields" class="hidden">
                    <div class="grid grid-cols-2 gap-4 mt-2">
                        <div>
                            <label for="item-weapon-damage" class="block mb-1">Weapon Damage Bonus</label>
                            <input type="number" id="item-weapon-damage" class="admin-input" value="3" min="1" max="50">
                        </div>
                        <div>
                            <label for="item-weapon-type" class="block mb-1">Weapon Type</label>
                            <select id="item-weapon-type" class="admin-input">
                                <option value="melee">Melee</option>
                                <option value="ranged">Ranged</option>
                                <option value="magic">Magic</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="item-hp-restore" class="block mb-1">HP Restored (0 = none)</label>
                        <input type="number" id="item-hp-restore" class="admin-input" value="0" min="0">
                    </div>
                    <div>
                        <label for="item-effect" class="block mb-1">Effect Description (optional)</label>
                        <input type="text" id="item-effect" class="admin-input" placeholder="e.g., 'refreshes you'">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="item-type" class="block mb-1">Item Type</label>
                        <select id="item-type" class="admin-input">
                            <option value="normal">Normal</option>
                            <option value="key">Key (unlocks doors)</option>
                            <option value="teleport">Teleportation Device</option>
                            <option value="light">Light Source</option>
                            <option value="container">Container (holds items)</option>
                        </select>
                    </div>
                    <div>
                        <label for="item-special-data" class="block mb-1">Special Data (JSON)</label>
                        <input type="text" id="item-special-data" class="admin-input" placeholder='{"unlocks": "gate"}'>
                    </div>
                </div>
                <div class="mt-2">
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="item-is-readable">
                        <span>Is Readable (has text on it)</span>
                    </label>
                    <div id="readable-fields" class="mt-2 hidden">
                        <label for="item-readable-text" class="block mb-1">Readable Text</label>
                        <textarea id="item-readable-text" class="admin-input" rows="3" placeholder="Enter the text that appears when this item is read..."></textarea>
                    </div>
                </div>
                <div class="flex flex-col gap-2 mt-4">
                    <div class="flex gap-2">
                        <input type="text" id="item-ai-prompt" class="admin-input flex-1" placeholder="Describe the item (e.g., 'a magical healing potion')">
                        <button id="generate-item-btn" class="gemini-btn px-4 py-2 rounded">‚ú® Generate Item</button>
                    </div>
                    <div class="flex justify-between">
                        <div>
                            <button id="save-item-btn" class="bg-yellow-400 text-black px-4 py-2 rounded">Save Item</button>
                            <button id="new-item-btn" class="bg-cyan-400 text-black px-4 py-2 rounded">New Item</button>
                        </div>
                        <button id="delete-item-btn" class="bg-red-600 text-white px-4 py-2 rounded">Delete Item</button>
                    </div>
                </div>
                <div id="admin-item-status" class="text-center mt-2 text-sm"></div>
            </div>

            <!-- NPC Editor -->
            <div id="npc-editor-panel" class="hidden">
                 <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">NPC Editor</h2>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="npc-select" class="block mb-1">Select NPC to Edit</label>
                        <select id="npc-select" class="admin-input"></select>
                    </div>
                    <div>
                        <label for="npc-id" class="block mb-1">NPC ID (no spaces)</label>
                        <input type="text" id="npc-id" class="admin-input">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="npc-short-name" class="block mb-1 mt-2">Short Name (e.g., Albert)</label>
                        <input type="text" id="npc-short-name" class="admin-input">
                    </div>
                    <div>
                        <label for="npc-name" class="block mb-1 mt-2">Descriptive Name (e.g., an old man)</label>
                        <input type="text" id="npc-name" class="admin-input">
                    </div>
                </div>
                 <div>
                    <label for="npc-desc" class="block mb-1 mt-2">Description (on examine)</label>
                    <textarea id="npc-desc" class="admin-input" rows="2"></textarea>
                </div>
                <div>
                    <label class="block mb-1 mt-2">Items This NPC Sells</label>
                    <div id="npc-sells-selector" class="admin-input h-24 overflow-y-auto"></div>
                </div>
                <div class="mt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="npc-ai-enabled" class="mr-2"> Use AI for Dialogue?
                    </label>
                </div>
                <div>
                    <label for="npc-dialogue" id="npc-dialogue-label" class="block mb-1 mt-2">Dialogue (one line per response)</label>
                    <textarea id="npc-dialogue" class="admin-input" rows="2" placeholder="If AI is enabled, this is the personality prompt."></textarea>
                </div>
                 <div>
                    <label for="npc-triggers" class="block mb-1 mt-2">Item Triggers (JSON: {"keyword": "itemId"})</label>
                    <textarea id="npc-triggers" class="admin-input" rows="1" placeholder='For AI NPCs to know what items they can give.'></textarea>
                </div>
                
                <!-- Wandering NPC Section -->
                <div class="mt-4 p-3 bg-gray-800 rounded">
                    <div class="flex items-center mb-2">
                        <label class="flex items-center">
                            <input type="checkbox" id="npc-wanders" class="mr-2"> Wanders Between Rooms?
                        </label>
                    </div>
                    <div id="npc-wander-fields" class="hidden">
                        <p class="text-xs text-gray-400 mb-2">NPC will autonomously move to connected rooms at random intervals</p>
                        <div class="grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-wander-min" class="block mb-1 text-sm">Min Interval (seconds)</label>
                                <input type="number" id="npc-wander-min" class="admin-input text-sm" value="60" min="10">
                            </div>
                            <div>
                                <label for="npc-wander-max" class="block mb-1 text-sm">Max Interval (seconds)</label>
                                <input type="number" id="npc-wander-max" class="admin-input text-sm" value="180" min="30">
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">üí° Recommended: 60-300 seconds for realistic movement</p>
                    </div>
                </div>
                
                <!-- Proactive Greeting Section -->
                <div class="mt-4 p-3 bg-purple-900 bg-opacity-30 rounded border border-purple-500">
                    <div class="flex items-center mb-2">
                        <label class="flex items-center">
                            <input type="checkbox" id="npc-proactive-greeting" class="mr-2"> 
                            <span class="text-purple-300">‚ú® Proactive Greetings? (AI only)</span>
                        </label>
                    </div>
                    <div id="npc-greeting-fields" class="hidden">
                        <p class="text-xs text-gray-400 mb-2">NPC will autonomously greet players and perform ambient actions (requires AI enabled)</p>
                        <div class="grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-greeting-delay-min" class="block mb-1 text-xs">Greeting Delay Min (sec)</label>
                                <input type="number" id="npc-greeting-delay-min" class="admin-input text-sm" value="5" min="1">
                            </div>
                            <div>
                                <label for="npc-greeting-delay-max" class="block mb-1 text-xs">Greeting Delay Max (sec)</label>
                                <input type="number" id="npc-greeting-delay-max" class="admin-input text-sm" value="30" min="5">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-greeting-interval" class="block mb-1 text-xs">Min Time Between Greetings (sec)</label>
                                <input type="number" id="npc-greeting-interval" class="admin-input text-sm" value="120" min="30">
                            </div>
                            <div>
                                <label class="flex items-center mt-4">
                                    <input type="checkbox" id="npc-ambient-dialogue" class="mr-2"> 
                                    <span class="text-xs">Ambient Dialogue?</span>
                                </label>
                            </div>
                        </div>
                        <div id="npc-ambient-fields" class="hidden grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-ambient-min" class="block mb-1 text-xs">Ambient Min Interval (sec)</label>
                                <input type="number" id="npc-ambient-min" class="admin-input text-sm" value="120" min="30">
                            </div>
                            <div>
                                <label for="npc-ambient-max" class="block mb-1 text-xs">Ambient Max Interval (sec)</label>
                                <input type="number" id="npc-ambient-max" class="admin-input text-sm" value="600" min="60">
                            </div>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">üí° Minstrels, merchants, and atmospheric NPCs work great with this!</p>
                    </div>
                </div>
                
                <!-- Combat Stats Section -->
                <div class="mt-4 p-3 bg-gray-800 rounded">
                    <div class="flex items-center mb-2">
                        <label class="flex items-center">
                            <input type="checkbox" id="npc-can-fight" class="mr-2"> Can Fight? (Enable combat for this NPC)
                        </label>
                    </div>
                    <div id="npc-combat-fields" class="hidden">
                        <div class="grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-hp" class="block mb-1">HP</label>
                                <input type="number" id="npc-hp" class="admin-input" value="50" min="1">
                            </div>
                            <div>
                                <label for="npc-hostile" class="block mb-1">Behavior</label>
                                <select id="npc-hostile" class="admin-input">
                                    <option value="false">Friendly (won't attack first)</option>
                                    <option value="true">Hostile (attacks on sight)</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-min-atk" class="block mb-1">Min Attack</label>
                                <input type="number" id="npc-min-atk" class="admin-input" value="3" min="0">
                            </div>
                            <div>
                                <label for="npc-max-atk" class="block mb-1">Max Attack</label>
                                <input type="number" id="npc-max-atk" class="admin-input" value="8" min="0">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mt-2">
                            <div>
                                <label for="npc-xp" class="block mb-1">XP Reward</label>
                                <input type="number" id="npc-xp" class="admin-input" value="50" min="0">
                            </div>
                            <div>
                                <label for="npc-gold" class="block mb-1">Gold Reward</label>
                                <input type="number" id="npc-gold" class="admin-input" value="25" min="0">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex flex-col gap-2 mt-4">
                    <div class="flex gap-2">
                        <input type="text" id="npc-ai-prompt" class="admin-input flex-1" placeholder="Describe the NPC (e.g., 'a wise wizard who sells potions')">
                        <button id="generate-npc-btn" class="gemini-btn px-4 py-2 rounded">‚ú® Generate NPC</button>
                    </div>
                    <div class="flex justify-between">
                        <div>
                            <button id="save-npc-btn" class="bg-yellow-400 text-black px-4 py-2 rounded">Save NPC</button>
                            <button id="new-npc-btn" class="bg-cyan-400 text-black px-4 py-2 rounded">New NPC</button>
                        </div>
                        <button id="delete-npc-btn" class="bg-red-600 text-white px-4 py-2 rounded">Delete NPC</button>
                    </div>
                </div>
                <div id="admin-npc-status" class="text-center mt-2 text-sm"></div>
            </div>
            
            <!-- Monster Editor -->
            <div id="monster-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">Monster Editor</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                   <div>
                       <label for="monster-select" class="block mb-1">Select Monster to Edit</label>
                       <select id="monster-select" class="admin-input"></select>
                   </div>
                   <div>
                       <label for="monster-id" class="block mb-1">Monster ID (no spaces)</label>
                       <input type="text" id="monster-id" class="admin-input">
                   </div>
               </div>
               <div>
                   <label for="monster-name" class="block mb-1 mt-2">Monster Name (e.g., a grumpy goblin)</label>
                   <input type="text" id="monster-name" class="admin-input">
               </div>
                <div>
                   <label for="monster-desc" class="block mb-1 mt-2">Description (on examine)</label>
                   <textarea id="monster-desc" class="admin-input" rows="2"></textarea>
               </div>
               <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-2">
                    <div>
                        <label for="monster-hp">HP</label>
                        <input type="number" id="monster-hp" class="admin-input" value="10">
                    </div>
                    <div>
                        <label for="monster-min-atk">Min Atk</label>
                        <input type="number" id="monster-min-atk" class="admin-input" value="1">
                    </div>
                    <div>
                        <label for="monster-max-atk">Max Atk</label>
                        <input type="number" id="monster-max-atk" class="admin-input" value="3">
                    </div>
                    <div>
                        <label for="monster-xp">XP Reward</label>
                        <input type="number" id="monster-xp" class="admin-input" value="10">
                    </div>
               </div>
                <div class="grid grid-cols-2 gap-4 mt-2">
                     <div>
                        <label for="monster-gold">Gold Drop</label>
                        <input type="number" id="monster-gold" class="admin-input" value="5">
                    </div>
                    <div>
                        <label>Item Drop (optional)</label>
                        <select id="monster-item-drop" class="admin-input">
                            <option value="">-- None --</option>
                        </select>
                    </div>
                </div>
                <div class="mt-2">
                    <label class="flex items-center">
                        <input type="checkbox" id="monster-newsworthy" class="mr-2"> Newsworthy (Appears in news feed when killed)
                    </label>
                </div>
                 <div class="flex flex-col gap-2 mt-4">
                   <div class="flex gap-2">
                       <input type="text" id="monster-ai-prompt" class="admin-input flex-1" placeholder="Describe the monster (e.g., 'a fierce dragon')">
                       <button id="generate-monster-btn" class="gemini-btn px-4 py-2 rounded">‚ú® Generate Monster</button>
                   </div>
                   <div class="flex justify-between">
                       <div>
                           <button id="save-monster-btn" class="bg-yellow-400 text-black px-4 py-2 rounded">Save Monster</button>
                           <button id="new-monster-btn" class="bg-cyan-400 text-black px-4 py-2 rounded">New Monster</button>
                       </div>
                       <button id="delete-monster-btn" class="bg-red-600 text-white px-4 py-2 rounded">Delete Monster</button>
                   </div>
               </div>
               <div id="admin-monster-status" class="text-center mt-2 text-sm"></div>
            </div>

            <!-- Player Editor -->
            <div id="player-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">Player Administrator</h2>
                <div>
                    <label for="player-select" class="block mb-1">Select Player to Edit</label>
                    <select id="player-select" class="admin-input"></select>
                </div>
                <div id="player-edit-form" class="hidden mt-4 p-2 border border-yellow-400 rounded space-y-2">
                    <!-- Basic Info -->
                    <fieldset class="border border-gray-500 p-2">
                        <legend class="text-yellow-400">Basic Info</legend>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-2">
                            <div class="md:col-span-2">
                                <label for="player-name-edit">Name</label>
                                <input type="text" id="player-name-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-race-edit">Race</label>
                                <input type="text" id="player-race-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-class-edit">Class</label>
                                <select id="player-class-edit" class="player-edit-input"></select>
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-2 mt-2">
                            <div>
                                <label for="player-gender-edit">Gender</label>
                                <select id="player-gender-edit" class="player-edit-input">
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div>
                                <label for="player-age-edit">Age</label>
                                <input type="number" id="player-age-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label><input type="checkbox" id="player-admin-edit" class="mr-2">Is Admin?</label>
                            </div>
                        </div>
                        <div class="mt-2">
                            <label for="player-description-edit">Description</label>
                            <textarea id="player-description-edit" class="player-edit-input" rows="2"></textarea>
                        </div>
                    </fieldset>

                    <!-- Progression & Stats -->
                    <fieldset class="border border-gray-500 p-2">
                        <legend class="text-yellow-400">Progression</legend>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                            <div>
                                <label for="player-level-edit">Level</label>
                                <input type="number" id="player-level-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-xp-edit">XP</label>
                                <input type="number" id="player-xp-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-money-edit">Gold</label>
                                <input type="number" id="player-money-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-room-edit">Room</label>
                                <select id="player-room-edit" class="player-edit-input"></select>
                            </div>
                        </div>
                    </fieldset>

                    <!-- HP & MP -->
                    <fieldset class="border border-gray-500 p-2">
                        <legend class="text-yellow-400">Health & Mana</legend>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                            <div>
                                <label for="player-hp-edit">Current HP</label>
                                <input type="number" id="player-hp-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-maxhp-edit">Max HP</label>
                                <input type="number" id="player-maxhp-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-mp-edit">Current MP</label>
                                <input type="number" id="player-mp-edit" class="player-edit-input">
                            </div>
                            <div>
                                <label for="player-maxmp-edit">Max MP</label>
                                <input type="number" id="player-maxmp-edit" class="player-edit-input">
                            </div>
                        </div>
                    </fieldset>

                    <!-- Attributes -->
                    <fieldset class="border border-gray-500 p-2">
                        <legend class="text-yellow-400">Attributes</legend>
                        <div class="grid grid-cols-3 gap-2">
                            <div><label>STR</label><input type="number" id="player-str-edit" class="player-edit-input"></div>
                            <div><label>DEX</label><input type="number" id="player-dex-edit" class="player-edit-input"></div>
                            <div><label>CON</label><input type="number" id="player-con-edit" class="player-edit-input"></div>
                            <div><label>INT</label><input type="number" id="player-int-edit" class="player-edit-input"></div>
                            <div><label>WIS</label><input type="number" id="player-wis-edit" class="player-edit-input"></div>
                            <div><label>CHA</label><input type="number" id="player-cha-edit" class="player-edit-input"></div>
                        </div>
                    </fieldset>

                    <!-- Inventory -->
                    <fieldset class="border border-gray-500 p-2">
                        <legend class="text-yellow-400">Inventory</legend>
                        <div>
                            <label for="player-inventory-edit">Items (JSON array of item IDs)</label>
                            <textarea id="player-inventory-edit" class="player-edit-input font-mono text-sm" rows="3" placeholder='["sword", "potion"]'></textarea>
                            <p class="text-xs text-gray-400 mt-1">Edit as JSON array. Example: ["sword", "health-potion", "gold-key"]</p>
                        </div>
                    </fieldset>
                    <div class="flex justify-between items-center">
                         <button id="save-player-btn" class="bg-yellow-400 text-black px-4 py-2 rounded">Save Player Changes</button>
                         <button id="delete-player-btn" class="bg-red-600 text-white px-4 py-2 rounded">Delete This Player</button>
                    </div>
                </div>
                <div id="admin-player-status" class="text-center mt-2 text-sm"></div>
            </div>

            <!-- Spell Editor -->
            <div id="spell-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">‚ú® Spell Editor</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="spell-select" class="block mb-1">Select Spell to Edit</label>
                        <select id="spell-select" class="admin-input"></select>
                    </div>
                    <div>
                        <label for="spell-id" class="block mb-1">Spell ID (no spaces, e.g., "fireball")</label>
                        <input type="text" id="spell-id" class="admin-input" placeholder="fireball">
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="spell-name" class="block mb-1">Spell Name</label>
                        <input type="text" id="spell-name" class="admin-input" placeholder="Fireball">
                    </div>
                    <div>
                        <label for="spell-school" class="block mb-1">School of Magic</label>
                        <select id="spell-school" class="admin-input">
                            <option value="evocation">Evocation (Damage)</option>
                            <option value="restoration">Restoration (Healing)</option>
                            <option value="abjuration">Abjuration (Protection)</option>
                            <option value="enchantment">Enchantment (Buffs)</option>
                            <option value="necromancy">Necromancy (Death/Drain)</option>
                            <option value="conjuration">Conjuration (Summon)</option>
                            <option value="illusion">Illusion (Deception)</option>
                            <option value="transmutation">Transmutation (Transform)</option>
                        </select>
                    </div>
                </div>

                <div class="mt-2">
                    <label for="spell-description" class="block mb-1">Description</label>
                    <textarea id="spell-description" class="admin-input" rows="2" placeholder="A powerful blast of fire..."></textarea>
                </div>

                <fieldset class="border border-gray-500 p-3 mt-3">
                    <legend class="text-yellow-400">Spell Requirements</legend>
                    <div class="grid grid-cols-3 gap-3">
                        <div>
                            <label for="spell-mp-cost" class="block text-sm">MP Cost</label>
                            <input type="number" id="spell-mp-cost" class="admin-input" value="10" min="0">
                        </div>
                        <div>
                            <label for="spell-level-req" class="block text-sm">Level Required</label>
                            <input type="number" id="spell-level-req" class="admin-input" value="1" min="1">
                        </div>
                        <div>
                            <label for="spell-class-req" class="block text-sm">Class Requirement</label>
                            <input type="text" id="spell-class-req" class="admin-input" placeholder="any or class name">
                        </div>
                    </div>
                </fieldset>

                <fieldset class="border border-gray-500 p-3 mt-3">
                    <legend class="text-yellow-400">Targeting</legend>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label for="spell-target-type" class="block text-sm">Target Type</label>
                            <select id="spell-target-type" class="admin-input">
                                <option value="self">Self</option>
                                <option value="single-enemy">Single Enemy</option>
                                <option value="single-ally">Single Ally</option>
                                <option value="all-enemies">All Enemies in Room</option>
                                <option value="all-allies">All Allies in Room</option>
                                <option value="area">Area Effect</option>
                            </select>
                        </div>
                        <div>
                            <label for="spell-range" class="block text-sm">Range</label>
                            <select id="spell-range" class="admin-input">
                                <option value="touch">Touch</option>
                                <option value="close">Close (same room)</option>
                                <option value="medium">Medium (1 room away)</option>
                                <option value="far">Far (2+ rooms away)</option>
                            </select>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="border border-gray-500 p-3 mt-3">
                    <legend class="text-yellow-400">Effects</legend>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <div>
                            <label for="spell-damage" class="block text-sm">Damage (0 = none)</label>
                            <input type="number" id="spell-damage" class="admin-input" value="0" min="0">
                        </div>
                        <div>
                            <label for="spell-healing" class="block text-sm">Healing (0 = none)</label>
                            <input type="number" id="spell-healing" class="admin-input" value="0" min="0">
                        </div>
                        <div>
                            <label for="spell-duration" class="block text-sm">Duration (turns, 0 = instant)</label>
                            <input type="number" id="spell-duration" class="admin-input" value="0" min="0">
                        </div>
                        <div>
                            <label for="spell-cooldown" class="block text-sm">Cooldown (turns, 0 = none)</label>
                            <input type="number" id="spell-cooldown" class="admin-input" value="0" min="0">
                        </div>
                    </div>
                    <div class="mt-2">
                        <label for="spell-stat-effects" class="block text-sm">Stat Effects (JSON, e.g., {"str": 5, "def": -2})</label>
                        <textarea id="spell-stat-effects" class="admin-input font-mono text-sm" rows="2" placeholder='{"str": 5, "dex": 3}'></textarea>
                    </div>
                    <div class="mt-2">
                        <label for="spell-special-effects" class="block text-sm">Special Effects (text description)</label>
                        <input type="text" id="spell-special-effects" class="admin-input" placeholder="Burns the target, dealing 5 damage per turn">
                    </div>
                </fieldset>

                <div class="flex justify-between items-center mt-4">
                    <div>
                        <button id="save-spell-btn" class="bg-green-500 text-white px-4 py-2 rounded">üíæ Save Spell</button>
                        <button id="new-spell-btn" class="bg-blue-500 text-white px-4 py-2 rounded ml-2">‚ûï New Spell</button>
                    </div>
                    <button id="delete-spell-btn" class="bg-red-600 text-white px-4 py-2 rounded">üóëÔ∏è Delete Spell</button>
                </div>
                <div id="admin-spell-status" class="text-center mt-2 text-sm"></div>
            </div>

            <!-- Class Editor -->
            <div id="class-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">‚öîÔ∏è Character Class Editor</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="class-select" class="block mb-1">Select Class to Edit</label>
                        <select id="class-select" class="admin-input"></select>
                    </div>
                    <div>
                        <label for="class-id" class="block mb-1">Class ID (no spaces)</label>
                        <input type="text" id="class-id" class="admin-input">
                    </div>
                </div>
                <div>
                    <label for="class-name" class="block mb-1 mt-2">Class Name</label>
                    <input type="text" id="class-name" class="admin-input">
                </div>
                <div>
                    <label for="class-description" class="block mb-1 mt-2">Description</label>
                    <textarea id="class-description" class="admin-input" rows="2"></textarea>
                </div>
                
                <fieldset class="border border-gray-500 p-3 mt-2">
                    <legend class="text-yellow-400">Stat Bonuses</legend>
                    <div class="grid grid-cols-3 gap-3">
                        <div>
                            <label for="class-str-bonus" class="block text-sm">Strength</label>
                            <input type="number" id="class-str-bonus" class="admin-input" value="0">
                        </div>
                        <div>
                            <label for="class-dex-bonus" class="block text-sm">Dexterity</label>
                            <input type="number" id="class-dex-bonus" class="admin-input" value="0">
                        </div>
                        <div>
                            <label for="class-con-bonus" class="block text-sm">Constitution</label>
                            <input type="number" id="class-con-bonus" class="admin-input" value="0">
                        </div>
                        <div>
                            <label for="class-int-bonus" class="block text-sm">Intelligence</label>
                            <input type="number" id="class-int-bonus" class="admin-input" value="0">
                        </div>
                        <div>
                            <label for="class-wis-bonus" class="block text-sm">Wisdom</label>
                            <input type="number" id="class-wis-bonus" class="admin-input" value="0">
                        </div>
                        <div>
                            <label for="class-cha-bonus" class="block text-sm">Charisma</label>
                            <input type="number" id="class-cha-bonus" class="admin-input" value="0">
                        </div>
                    </div>
                </fieldset>
                
                <div class="grid grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="class-hp-bonus" class="block mb-1">HP Bonus</label>
                        <input type="number" id="class-hp-bonus" class="admin-input" value="0">
                    </div>
                    <div>
                        <label for="class-mp-bonus" class="block mb-1">MP Bonus (future use)</label>
                        <input type="number" id="class-mp-bonus" class="admin-input" value="0">
                    </div>
                </div>
                
                <div>
                    <label for="class-abilities" class="block mb-1 mt-2">Special Abilities (JSON array)</label>
                    <textarea id="class-abilities" class="admin-input" rows="2" placeholder='["Power Strike", "Second Wind"]'></textarea>
                </div>
                
                <div>
                    <label for="class-level-titles" class="block mb-1 mt-2">Level Titles (JSON object - optional)</label>
                    <textarea id="class-level-titles" class="admin-input" rows="3" placeholder='{"1":"Recruit","5":"Lieutenant","10":"Captain","20":"General","30":"War God"}'></textarea>
                    <small class="text-gray-400">Define custom level titles for this class. Leave empty to use generic titles.</small>
                </div>
                
                <div class="flex justify-between items-center mt-4">
                    <div>
                        <button id="save-class-btn" class="bg-green-500 text-white px-4 py-2 rounded">üíæ Save Class</button>
                        <button id="new-class-btn" class="bg-blue-500 text-white px-4 py-2 rounded ml-2">‚ûï New Class</button>
                        <button id="create-defaults-btn" class="bg-purple-500 text-white px-4 py-2 rounded ml-2">‚ö° Create 6 Default Classes</button>
                    </div>
                    <button id="delete-class-btn" class="bg-red-600 text-white px-4 py-2 rounded">üóëÔ∏è Delete Class</button>
                </div>
                <div id="admin-class-status" class="text-center mt-2 text-sm"></div>
            </div>

            <!-- Guilds Management Panel -->
            <div id="guild-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üè∞ Guild Management</h2>
                
                <div class="mb-4">
                    <label for="guild-select" class="block mb-1">Select Guild:</label>
                    <select id="guild-select" class="admin-input mb-2">
                        <option value="">-- Select Guild --</option>
                    </select>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="guild-id" class="block mb-1">Guild ID (unique)</label>
                        <input type="text" id="guild-id" class="admin-input" placeholder="guild-dragons" readonly>
                    </div>
                    <div>
                        <label for="guild-name" class="block mb-1">Guild Name</label>
                        <input type="text" id="guild-name" class="admin-input" placeholder="The Dragon Knights">
                    </div>
                </div>

                <div class="mt-2">
                    <label for="guild-description" class="block mb-1">Description</label>
                    <textarea id="guild-description" class="admin-input" rows="2" placeholder="A legendary guild of dragon slayers and heroes..."></textarea>
                </div>

                <div class="mt-2">
                    <label for="guild-motto" class="block mb-1">Guild Motto (optional)</label>
                    <input type="text" id="guild-motto" class="admin-input" placeholder="For honor and glory!">
                </div>

                <div class="grid grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="guild-leader" class="block mb-1">Leader Name</label>
                        <input type="text" id="guild-leader" class="admin-input" placeholder="PlayerName" readonly>
                    </div>
                    <div>
                        <label for="guild-treasury" class="block mb-1">Treasury (gold)</label>
                        <input type="number" id="guild-treasury" class="admin-input" placeholder="0" min="0">
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="guild-level" class="block mb-1">Guild Level</label>
                        <input type="number" id="guild-level" class="admin-input" placeholder="1" min="1" max="10">
                    </div>
                    <div>
                        <label for="guild-exp" class="block mb-1">Guild Experience</label>
                        <input type="number" id="guild-exp" class="admin-input" placeholder="0" min="0">
                    </div>
                </div>

                <div class="mt-2">
                    <label for="guild-hall-room" class="block mb-1">Guild Hall Room ID (optional)</label>
                    <input type="text" id="guild-hall-room" class="admin-input" placeholder="guild-dragons-hall">
                    <small class="text-gray-400">If set, only guild members can enter this room</small>
                </div>

                <div class="mt-2">
                    <label for="guild-perks" class="block mb-1">Guild Perks (JSON object - optional)</label>
                    <textarea id="guild-perks" class="admin-input" rows="3" placeholder='{"expBonus":10,"statBonus":{"str":2,"dex":2}}'></textarea>
                    <small class="text-gray-400">Bonuses given to all guild members. expBonus is percentage (10 = +10% exp)</small>
                </div>

                <div class="mt-2">
                    <label for="guild-members" class="block mb-1">Members (JSON object - read only)</label>
                    <textarea id="guild-members" class="admin-input" rows="4" readonly></textarea>
                    <small class="text-gray-400">Member management is done in-game via commands</small>
                </div>

                <div class="flex justify-between mt-4">
                    <div>
                        <button id="save-guild-btn" class="bg-green-500 text-white px-4 py-2 rounded">üíæ Save Guild</button>
                        <button id="new-guild-btn" class="bg-blue-500 text-white px-4 py-2 rounded ml-2">‚ûï New Guild</button>
                    </div>
                    <button id="delete-guild-btn" class="bg-red-600 text-white px-4 py-2 rounded">üóëÔ∏è Delete Guild</button>
                </div>
                <div id="admin-guild-status" class="text-center mt-2 text-sm"></div>
            </div>

            <!-- Quests Management Panel -->
            <div id="quest-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üìú Quest Management</h2>
                
                <div class="mb-4">
                    <label for="quest-select" class="block mb-1">Select Quest:</label>
                    <select id="quest-select" class="admin-input mb-2">
                        <option value="">-- Select Quest --</option>
                    </select>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="quest-id" class="block mb-1">Quest ID (unique)</label>
                        <input type="text" id="quest-id" class="admin-input" placeholder="quest-dragon-slayer">
                    </div>
                    <div>
                        <label for="quest-title" class="block mb-1">Quest Title</label>
                        <input type="text" id="quest-title" class="admin-input" placeholder="Slay the Dragon">
                    </div>
                </div>

                <div class="mt-2">
                    <label for="quest-description" class="block mb-1">Description</label>
                    <textarea id="quest-description" class="admin-input" rows="3" placeholder="The ancient dragon terrorizes the village..."></textarea>
                </div>

                <div class="grid grid-cols-3 gap-4 mt-2">
                    <div>
                        <label for="quest-level-req" class="block mb-1">Level Required</label>
                        <input type="number" id="quest-level-req" class="admin-input" placeholder="1" min="1" max="30">
                    </div>
                    <div>
                        <label for="quest-repeatable" class="block mb-1">Repeatable</label>
                        <select id="quest-repeatable" class="admin-input">
                            <option value="false">No</option>
                            <option value="true">Yes</option>
                        </select>
                    </div>
                    <div>
                        <label for="quest-party-quest" class="block mb-1">Party Quest</label>
                        <select id="quest-party-quest" class="admin-input">
                            <option value="false">No (Solo)</option>
                            <option value="true">Yes (Group)</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4 mt-2">
                    <div>
                        <label for="quest-giver-npc" class="block mb-1">Quest Giver NPC ID</label>
                        <input type="text" id="quest-giver-npc" class="admin-input" placeholder="blacksmith">
                    </div>
                    <div>
                        <label for="quest-turnin-npc" class="block mb-1">Turn-in NPC ID (optional)</label>
                        <input type="text" id="quest-turnin-npc" class="admin-input" placeholder="Leave empty for same NPC">
                    </div>
                </div>

                <div class="mt-2">
                    <label for="quest-objectives" class="block mb-1">Objectives (JSON array)</label>
                    <textarea id="quest-objectives" class="admin-input" rows="5" placeholder='[{"type":"kill","target":"dragon","count":1},{"type":"collect","item":"dragon-scale","count":5}]'></textarea>
                    <small class="text-gray-400">Types: "kill" (monster), "collect" (item), "visit" (room), "talk" (npc)</small>
                </div>

                <div class="mt-2">
                    <label for="quest-rewards" class="block mb-1">Rewards (JSON object)</label>
                    <textarea id="quest-rewards" class="admin-input" rows="4" placeholder='{"xp":500,"gold":100,"items":["magic-sword"]}'></textarea>
                    <small class="text-gray-400">Properties: xp (number), gold (number), items (array of item IDs)</small>
                </div>

                <div class="mt-2">
                    <label for="quest-prerequisites" class="block mb-1">Prerequisite Quest IDs (JSON array - optional)</label>
                    <textarea id="quest-prerequisites" class="admin-input" rows="2" placeholder='["quest-tutorial","quest-first-monster"]'></textarea>
                    <small class="text-gray-400">Players must complete these quests first</small>
                </div>

                <div class="flex justify-between mt-4">
                    <div>
                        <button id="save-quest-btn" class="bg-green-500 text-white px-4 py-2 rounded">üíæ Save Quest</button>
                        <button id="new-quest-btn" class="bg-blue-500 text-white px-4 py-2 rounded ml-2">‚ûï New Quest</button>
                    </div>
                    <button id="delete-quest-btn" class="bg-red-600 text-white px-4 py-2 rounded">üóëÔ∏è Delete Quest</button>
                </div>
                <div id="admin-quest-status" class="text-center mt-2 text-sm"></div>
            </div>


            <!-- Levels Configuration Panel -->
            <div id="levels-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">‚¨ÜÔ∏è Level Configuration</h2>
                
                <div class="mb-4 text-center">
                    <p class="text-gray-300 mb-2">Edit level names and XP requirements (1-30)</p>
                    <button id="save-all-levels-btn" class="bg-green-500 text-white px-4 py-2 rounded">üíæ Save All Levels</button>
                    <button id="load-levels-btn" class="bg-blue-500 text-white px-4 py-2 rounded ml-2">üîÑ Reload from Database</button>
                    <span id="admin-levels-status" class="ml-4 text-sm"></span>
                </div>

                <div class="overflow-y-auto max-h-[65vh] border border-gray-700 p-4 rounded bg-gray-900">
                    <table class="w-full text-left">
                        <thead class="sticky top-0 bg-black border-b border-yellow-400">
                            <tr>
                                <th class="p-2 text-yellow-400">Level</th>
                                <th class="p-2 text-yellow-400">Name</th>
                                <th class="p-2 text-yellow-400">Min XP Required</th>
                            </tr>
                        </thead>
                        <tbody id="levels-table-body" class="text-gray-300">
                            <!-- Dynamically populated -->
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Actions/Emotes Editor Panel -->
            <div id="actions-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üé≠ Actions & Emotes</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="action-select" class="block mb-1">Select Action to Edit</label>
                        <select id="action-select" class="admin-input"></select>
                    </div>
                    <div>
                        <label for="action-command" class="block mb-1">Command (e.g., wave, dance)</label>
                        <input type="text" id="action-command" class="admin-input" placeholder="wave">
                    </div>
                </div>
                
                <div class="mb-4">
                    <label for="action-message" class="block mb-1">Message Template</label>
                    <input type="text" id="action-message" class="admin-input" placeholder="{player} waves." />
                    <p class="text-xs text-gray-400 mt-1">Use {player} as a placeholder for the player's name</p>
                </div>
                
                <div class="flex gap-2 mb-4">
                    <button id="new-action-btn" class="bg-blue-500 text-white px-4 py-2 rounded">New Action</button>
                    <button id="save-action-btn" class="bg-green-500 text-white px-4 py-2 rounded">Save Action</button>
                    <button id="delete-action-btn" class="bg-red-500 text-white px-4 py-2 rounded">Delete Action</button>
                    <span id="admin-action-status" class="ml-2 text-sm self-center"></span>
                </div>
                
                <div class="border border-gray-700 p-4 rounded bg-gray-900">
                    <h3 class="text-yellow-400 mb-2">Available Actions</h3>
                    <div id="action-list" class="grid grid-cols-3 md:grid-cols-4 gap-2 text-sm">
                        <!-- Dynamically populated -->
                    </div>
                </div>
            </div>
            
            <!-- Online Players Panel -->
            <div id="online-players-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üë• Players Online</h2>
                
                <div class="mb-4 flex justify-between items-center">
                    <div class="text-lg">
                        <span class="text-gray-400">Total Online:</span>
                        <span id="online-player-count" class="text-green-400 font-bold">0</span>
                    </div>
                    <button id="refresh-online-btn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                        üîÑ Refresh
                    </button>
                </div>
                
                <div id="online-players-list" class="space-y-2">
                    <!-- Dynamically populated -->
                </div>
            </div>
            
            <!-- Map Visualization Panel -->
            <div id="map-editor-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üó∫Ô∏è World Map</h2>
                
                <div class="mb-4 text-center">
                    <p class="text-gray-300 mb-2">Interactive map of all rooms and connections</p>
                    <div class="flex gap-4 justify-center text-sm">
                        <span class="text-green-400">‚óè Rooms</span>
                        <span class="text-blue-400">üéí Has Items</span>
                        <span class="text-purple-400">üë§ Has NPCs</span>
                        <span class="text-red-400">üëπ Has Monsters</span>
                        <span class="text-yellow-400">‚≠ê Has Players</span>
                    </div>
                    <button id="refresh-map-btn" class="mt-2 bg-yellow-400 text-black px-4 py-2 rounded">Refresh Map</button>
                </div>
                
                <div id="map-network"></div>
                
                <div class="mt-4 text-sm text-gray-400 text-center">
                    <p>üí° Click and drag to pan ‚Ä¢ Scroll to zoom ‚Ä¢ Click a room to edit it</p>
                </div>
            </div>

            <!-- Settings Panel -->
            <div id="settings-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">‚öôÔ∏è Game Settings</h2>
                
                <!-- NPC Conversations Section -->
                <div class="border border-cyan-500 rounded p-6 bg-black bg-opacity-50 mb-4">
                    <h3 class="text-xl text-cyan-400 mb-4 flex items-center gap-2">
                        <span>üí¨</span>
                        <span>NPC-to-NPC Conversations</span>
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-3 bg-gray-900 rounded">
                            <div>
                                <label class="text-white font-semibold">Enable NPC Conversations</label>
                                <p class="text-sm text-gray-400">AI-powered NPCs will chat with each other in rooms</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="npc-conversations-toggle" class="sr-only peer" checked>
                                <div class="w-14 h-7 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-cyan-500"></div>
                            </label>
                        </div>

                        <div class="p-3 bg-gray-900 rounded">
                            <label class="text-white font-semibold mb-2 block">Player Count Threshold</label>
                            <p class="text-sm text-gray-400 mb-3">Auto-disable NPC chats when player count exceeds this limit (0 = no limit)</p>
                            <div class="flex items-center gap-4">
                                <input type="number" id="npc-chat-player-threshold" min="0" max="100" value="0" 
                                    class="bg-gray-800 text-white border border-gray-600 rounded px-4 py-2 w-24">
                                <span class="text-gray-400">players</span>
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                üí° Recommended: 10-20 players to reduce API usage and server load
                            </p>
                        </div>

                        <div class="p-3 bg-gray-900 rounded">
                            <div class="flex items-center justify-between mb-2">
                                <label class="text-white font-semibold">Current Status</label>
                                <span id="npc-conversations-status" class="px-3 py-1 rounded text-sm font-bold bg-green-500 text-white">
                                    ENABLED
                                </span>
                            </div>
                            <div class="text-sm text-gray-400 space-y-1">
                                <p>Active Players: <span id="active-player-count" class="text-white font-mono">0</span></p>
                                <p>Threshold: <span id="threshold-display" class="text-white font-mono">No limit</span></p>
                                <p id="threshold-warning" class="text-yellow-400 hidden">
                                    ‚ö†Ô∏è NPC conversations auto-disabled due to player count
                                </p>
                            </div>
                        </div>

                        <div class="flex gap-2">
                            <button id="save-npc-settings-btn" class="bg-cyan-500 text-white px-6 py-2 rounded flex-1 font-bold hover:bg-cyan-600">
                                üíæ Save Settings
                            </button>
                            <button id="test-npc-conversations-btn" class="bg-gray-700 text-white px-6 py-2 rounded flex-1 hover:bg-gray-600">
                                üß™ Test (run npcchats command)
                            </button>
                        </div>
                    </div>
                </div>

                <div class="text-center text-sm text-gray-500 mt-6">
                    <p>More settings will be added in future updates</p>
                </div>
            </div>

            <!-- Export Panel -->
            <div id="export-panel" class="hidden">
                <h2 class="text-2xl text-yellow-400 text-center text-shadow mb-4">üíæ Export Game Data</h2>
                
                <div class="text-center text-gray-300 mb-6">
                    <p class="mb-2">Download your game data as JSON files for backup or static file loading.</p>
                    <p class="text-sm text-gray-400">These files can be placed in the /data/ folder for faster loading.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <button id="export-rooms-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        üè† Export Rooms
                    </button>
                    <button id="export-items-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        üì¶ Export Items
                    </button>
                    <button id="export-npcs-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        üë§ Export NPCs
                    </button>
                    <button id="export-monsters-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        üëπ Export Monsters
                    </button>
                    <button id="export-spells-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        ‚ú® Export Spells
                    </button>
                    <button id="export-classes-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        ‚öîÔ∏è Export Classes
                    </button>
                    <button id="export-quests-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        üìú Export Quests
                    </button>
                    <button id="export-guilds-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors">
                        üè∞ Export Guilds
                    </button>
                </div>

                <div class="border border-cyan-500 rounded p-6 bg-black bg-opacity-50 mb-4">
                    <h3 class="text-xl text-cyan-400 mb-4">üì¶ Export All</h3>
                    <p class="text-gray-400 mb-4">Download all game data at once as separate JSON files in a zip archive.</p>
                    <button id="export-all-btn" class="bg-cyan-500 hover:bg-cyan-600 text-white px-8 py-4 rounded-lg font-bold text-xl w-full transition-colors">
                        üíæ Export All Game Data
                    </button>
                </div>

                <div id="export-status" class="hidden border border-green-500 rounded p-4 bg-black bg-opacity-50 text-center">
                    <p class="text-green-400 font-bold">‚úÖ Export Complete!</p>
                    <p class="text-gray-400 text-sm mt-2">Your file has been downloaded.</p>
                </div>

                <div class="text-center text-sm text-gray-500 mt-6 space-y-2">
                    <p>üí° <strong>Tip:</strong> After making changes in Firebase, export the updated files and replace them in your /data/ folder.</p>
                    <p>‚ö° This keeps your static files in sync and ensures optimal performance.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- END OF FILE: admin.html -->


    <!-- FILE: auth.html (Login/Registration View) -->
    <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4">
        <div class="bg-black border-2 border-[#00ff41] p-4 sm:p-8 rounded-lg text-center glow w-full max-w-sm">
            <h2 class="text-xl sm:text-2xl mb-4 text-shadow">Enter the Digital Realm</h2>
            
            <!-- Login Form -->
            <form id="login-form" class="space-y-3 sm:space-y-4">
                <div>
                    <input type="email" id="login-email" placeholder="Email" class="auth-input text-center text-sm sm:text-base" required>
                </div>
                <div>
                    <input type="password" id="login-password" placeholder="Password" class="auth-input text-center text-sm sm:text-base" required>
                </div>
                <button type="submit" class="bg-[#00ff41] text-black px-4 sm:px-6 py-2 rounded w-full text-sm sm:text-base">Login</button>
                <div class="text-xs sm:text-sm flex justify-between">
                    <a href="#" id="show-register" class="underline text-yellow-400">Register here</a>
                    <a href="#" id="show-forgot-password" class="underline text-yellow-400">Forgot Password?</a>
                </div>
            </form>

            <!-- Register Form -->
            <form id="register-form" class="hidden space-y-4">
                <p class="text-sm mb-2">Create an account to begin your adventure!</p>
                 <div>
                    <input type="email" id="register-email" placeholder="Email" class="auth-input text-center" required>
                </div>
                <div>
                    <input type="password" id="register-password" placeholder="Password (min 6 characters)" class="auth-input text-center" required>
                </div>
                <button type="submit" class="bg-[#00ff41] text-black px-6 py-2 rounded w-full">Register</button>
                 <p class="text-sm">Already have an account? <a href="#" id="show-login-register" class="underline text-yellow-400">Login here</a>.</p>
            </form>

            <!-- Forgot Password Form -->
            <form id="forgot-password-form" class="hidden space-y-4">
                <p class="text-sm">Enter your email and we'll send a link to reset your password.</p>
                <div>
                    <input type="email" id="forgot-email" placeholder="Email" class="auth-input text-center" required>
                </div>
                <button type="submit" class="bg-[#00ff41] text-black px-6 py-2 rounded w-full">Send Reset Email</button>
                 <p class="text-sm">Remembered it? <a href="#" id="show-login-forgot" class="underline text-yellow-400">Login here</a>.</p>
            </form>

            <p id="auth-error" class="text-red-500 text-sm mt-4"></p>
        </div>
    </div>
    <!-- END OF FILE: auth.html -->

    <!-- Character Creation Modal -->
    <div id="character-creation-modal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="bg-black border-2 border-[#00ff41] p-4 sm:p-8 rounded-lg glow w-full max-w-2xl my-4">
            <h2 class="text-2xl sm:text-3xl mb-4 sm:mb-6 text-center text-shadow">Create Your Character</h2>
            
            <div class="space-y-3 sm:space-y-4">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                    <div>
                        <label for="char-name" class="block mb-1 text-xs sm:text-sm">Character Name</label>
                        <input type="text" id="char-name" class="auth-input text-sm sm:text-base" placeholder="Enter your name" required maxlength="20">
                    </div>
                    <div>
                        <label for="char-gender" class="block mb-1 text-xs sm:text-sm">Gender</label>
                        <select id="char-gender" class="auth-input text-sm sm:text-base">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Non-binary">Non-binary</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                    <div>
                        <label for="char-race" class="block mb-1 text-xs sm:text-sm">Race</label>
                        <select id="char-race" class="auth-input text-sm sm:text-base">
                            <option value="Human">Human</option>
                            <option value="Elf">Elf</option>
                            <option value="Dwarf">Dwarf</option>
                            <option value="Halfling">Halfling</option>
                            <option value="Orc">Orc</option>
                            <option value="Tiefling">Tiefling</option>
                            <option value="Dragonborn">Dragonborn</option>
                        </select>
                    </div>
                    <div>
                        <label for="char-class" class="block mb-1 text-sm">Class</label>
                        <select id="char-class" class="auth-input">
                            <option value="">Loading classes...</option>
                        </select>
                        <p id="class-desc" class="text-xs text-gray-400 mt-1"></p>
                    </div>
                </div>
                
                <div>
                    <label for="char-age" class="block mb-1 text-sm">Age</label>
                    <input type="number" id="char-age" class="auth-input" placeholder="25" min="16" max="999" value="25">
                </div>
                
                <div>
                    <label for="char-description" class="block mb-1 text-sm">Description</label>
                    <textarea id="char-description" class="auth-input h-20 resize-none" placeholder="Describe your character's appearance..."></textarea>
                </div>
                
                <div class="border border-[#00ff41] p-4 rounded">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg">Attributes</h3>
                        <button id="reroll-stats-btn" class="bg-yellow-400 text-black px-4 py-2 rounded text-sm">üé≤ Reroll Stats</button>
                    </div>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="text-center">
                            <div class="text-sm text-gray-400">Strength</div>
                            <div id="stat-str" class="text-2xl font-bold">10</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm text-gray-400">Dexterity</div>
                            <div id="stat-dex" class="text-2xl font-bold">10</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm text-gray-400">Constitution</div>
                            <div id="stat-con" class="text-2xl font-bold">10</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm text-gray-400">Intelligence</div>
                            <div id="stat-int" class="text-2xl font-bold">10</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm text-gray-400">Wisdom</div>
                            <div id="stat-wis" class="text-2xl font-bold">10</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm text-gray-400">Charisma</div>
                            <div id="stat-cha" class="text-2xl font-bold">10</div>
                        </div>
                    </div>
                </div>
                
                <button id="start-adventure-btn" class="bg-[#00ff41] text-black px-6 py-3 rounded w-full text-lg font-bold">Start Your Adventure!</button>
            </div>
        </div>
    </div>
    <!-- END OF CHARACTER CREATION -->



    <script type="module" src="./js/app.js?v=20251020-014"></script>
</body>
</html>
